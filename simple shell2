#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>
 
int main()
{
        char *token, *line = NULL;
        char **words = malloc(sizeof(char *) * 4);
        int n = 0, i = 0, k, ws = 1;
        char *arg[] = {"/bin/cp", "print.c", "p.c", NULL};
        pid_t p;
        getline(&line, &n, stdin);
        printf("%s\n", line);
 
        token = strtok(line, " \n");
        while (token)
        {
                words[i] = malloc(sizeof(char) * strlen(token) + 1);
                strcpy(words[i], token);
                i++;
                token = strtok(NULL, " \n");
        }
        words[i] = NULL;
        for (k = 0; k < i; k++)
        {
                printf("%s ", words[k]);
                if (strcmp(words[k], arg[k]) != 0)
                        printf("\nthe error in member %d\n", k);
        }
        free(line);
 
        p = fork();
        if (p == 0)
                execve(words[0], words, NULL);
        else
                wait(&ws);
 
        return (0);
}
